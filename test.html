<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SVG Boy Face with Animation</title>
  <!-- Include jQuery from CDN -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <style>
    /* Container for the face */
    #parentDiv {
      width: 300px;
      height: 300px;
      margin: 50px auto;
      border: 1px solid #ccc;
      position: relative;
    }

  
    @keyframes bounceDown {
      0%   { transform: scale(1) translateY(0); }
      20%  { transform: scale(1) translateY(20px); }
      40%  { transform: scale(1) translateY(30px); }
      60%  { transform: scale(1) translateY(35px); }
      80%  { transform: scale(1) translateY(25px); }
      100% { transform: scale(1) translateY(0); }
    }
    .bounce {
      animation: bounceDown 0.5s ease;
    }
    #boyFace {
      transition: transform 0.3s ease;
    }
    
    #boyFace:hover {
      /* transform: scale(1.1); */
    }
  </style>
</head>
<body>

<div id="parentDiv">
  <svg id="boyFace" width="300" height="300" viewBox="0 0 300 300">
    
    <!-- Head -->
    <circle cx="150" cy="150" r="80" fill="peachpuff" stroke="black" stroke-width="2"/>
    
    <!-- Hair -->
    <path id="hair" transform="translate(20, -12)" fill="#000000" 
          d="M232.7,108.9c0,0-2.6-22.3-14.6-35.2c0,0,8.4-4.5-0.7-12.3c0,0-8.1-2-9.7-1.3c0,0-4.2-14.2-12.6-17.8
             c0,0-7.1-1.7-8.7,5.2c0,0-18.9-9.6-32.6-12c0,0-34.9-6.7-44.3-23c0,0-2-4.1-8.6-1.7c0,0-6.3,5-4.4,25c0,0,0.5,4.1-26.4-13.1
             c0,0-6.7-1.7-8.6,3.4c0,0-3.4,12.3,0.9,21.3c0,0-15.5,2.8-22.2,9.5c0,0-7.5,9.7,5.2,11.2c0,0-19,10.8-22.2,41.2
             c0,0-0.4,21.3,6.5,45c-1.5,3.9-2,8.1-1.6,12.4c1.3,12.4,10.9,22.1,23.2,23.9c3.9,11.8,10.5,22.7,19.6,31.8
             C86.1,237.6,106.4,246,128,246c21.6,0,41.9-8.4,57.1-23.7c9.3-9.3,16-20.4,19.9-32.6c11.9-1.5,21.4-10.6,23.3-22.5
             c0.9-5.8,0-11.5-2.5-16.4C230,138.4,233.7,123,232.7,108.9z 
             M49.6,186.4c-9.6-2.3-16.7-10.3-17.8-20.2c-0.2-1.8-0.2-3.5,0-5.2c1.7,5,3.8,10,6.3,14.8c0,0,5.1,5.1,10.4,3.2
             c0.2,1.3,0.5,2.6,0.8,3.9L49.6,186.4z 
             M128,242.3c-36.7,0-67.4-25.8-75.2-60.1l-0.6-5.8c0.6-0.7,1.2-1.6,1.8-2.6c0,0,0.7-23.9,14.9-38.1
             c0,0,12.5,3.5,28.4-5.4c0,0-6.7,8.2-12.7,12.5c0,0-3.4,8.4,4.3,9.3c0,0,23.9,4.5,47.9-11.2c0,0-1.3,8,10.1,5.6
             c0,0,9.2-0.2,24.1-11.6c0,0,3.2,5.4,15.4-1.3c0,0-0.3,10.7,9.4,27.1c0,0,4.2,6.9,4.2,19c0,0,1.1,0.9,2.8,1.7l-1,6.2
             C192.2,219.1,162.8,242.3,128,242.3z 
             M224.6,166.7c-1.6,9.7-9,17.2-18.5,19.1c0.3-1.1,0.6-2.3,0.8-3.4c2.9,0.2,6.1-1.2,8.3-6.6
             c0,0,4.3-8,8.7-19.7C224.9,159.5,225.2,163.1,224.6,166.7z"/>
    
    <!-- Left Eye Group -->
    <g id="eyeLeft" transform="translate(120, 155)">
      <!-- Existing circular eye -->
      <circle cx="0" cy="0" r="15" fill="white" stroke="black" stroke-width="2"/>
      <circle id="pupilLeft" cx="0" cy="0" r="5" fill="black"/>
      <!-- Additional eye: a line, hidden by default -->
      <path id="eyeLeftLine" d="M -10,0 L 10,0" stroke="black" stroke-width="2" fill="none" style="display: none;"/>
    </g>
    
    <!-- Right Eye Group -->
    <g id="eyeRight" transform="translate(180, 155)">
      <!-- Existing circular eye -->
      <circle cx="0" cy="0" r="15" fill="white" stroke="black" stroke-width="2"/>
      <circle id="pupilRight" cx="0" cy="0" r="5" fill="black"/>
      <!-- Additional eye: a line, hidden by default -->
      <path id="eyeRightLine" d="M -10,0 L 10,0" stroke="black" stroke-width="2" fill="none" style="display: none;"/>
    </g>
    
    <!-- Mouths Group -->
    <g id="mouthGroup">
      <!-- S-shaped mouth (rotated 90Â°) - visible by default -->
      <path id="mouthS" d="M130,190 C140,170 160,210 170,190" stroke="black" stroke-width="2" fill="none" style="display: none;"/>
      <!-- Smiling mouth; hidden by default -->
      <path id="mouthSmiling" d="M130,190 Q150,210 170,190" stroke="black" stroke-width="2" fill="none" />
    </g>

  </svg>
</div>

<script>
  $(document).ready(function(){
    // Select elements using jQuery
    var $hair       = $("#hair");
    var $pupilLeft  = $("#pupilLeft");
    var $pupilRight = $("#pupilRight");
    var $parentDiv  = $("#parentDiv");
    var $svg        = $("#boyFace");
    
    // Hair shake animation on click
    $svg.on("click", function(){
      $hair.addClass("shake").one("animationend", function(){
        $hair.removeClass("shake");
      });
    });
    
    // Pupil movement on mouse move
    $parentDiv.on("mousemove", function(e){
      var rect = $parentDiv[0].getBoundingClientRect();
      var mouseX = e.clientX - rect.left;
      var mouseY = e.clientY - rect.top;
      
      function movePupil(eyeX, eyeY, $pupil){
        var dx = mouseX - eyeX;
        var dy = mouseY - eyeY;
        var angle = Math.atan2(dy, dx);
        var maxMove = 5;
        $pupil.attr("cx", Math.cos(angle) * maxMove);
        $pupil.attr("cy", Math.sin(angle) * maxMove);
      }
      
      movePupil(120, 140, $pupilLeft);
      movePupil(180, 140, $pupilRight);
    });
    
    // On mousedown: update appearance, add bounce animation, and keep the state permanently.
    $svg.on("mousedown", function(){
      // Hide pupils and the smiling mouth.
      $("#pupilLeft, #pupilRight, #mouthSmiling").hide();
      // Show the S-shaped mouth and the eye-line paths.
      $("#mouthS, #eyeLeftLine, #eyeRightLine").show();
      
      // Add bounce animation to svg.
      $svg.addClass("bounce").one("animationend", function(){
        $svg.removeClass("bounce");
      });
      setTimeout(function(){
        // Revert to smiling face: show pupils, show the smiling mouth, hide S-shaped mouth and eye lines.
        $("#pupilLeft, #pupilRight").show();
        $("#mouthSmiling").show();
        $("#mouthS, #eyeLeftLine, #eyeRightLine").hide();
      }, 500);
    });
  });
</script>

</body>
</html>
